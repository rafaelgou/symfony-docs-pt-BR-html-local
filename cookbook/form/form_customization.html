<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Como personalizar a Renderização de Formulários &mdash; Symfony2.4Docs 2.4 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Symfony2.4Docs 2.4 documentation" href="../../index.html" />
    <link rel="up" title="Formulário" href="index.html" />
    <link rel="next" title="Como usar os Transformadores de Dados" href="data_transformers.html" />
    <link rel="prev" title="Formulário" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="data_transformers.html" title="Como usar os Transformadores de Dados"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Formulário"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Symfony2.4Docs 2.4 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Cookbook</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Formulário</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="como-personalizar-a-renderizacao-de-formularios">
<span id="index-0"></span><h1>Como personalizar a Renderização de Formulários<a class="headerlink" href="#como-personalizar-a-renderizacao-de-formularios" title="Permalink to this headline">¶</a></h1>
<p>O Symfony dispõe de uma grande variedade de maneiras para personalizar como um formulário é renderizado.
Neste guia, você vai aprender a personalizar cada parte possível do seu
formulário com o menor esforço, se você usa o Twig ou PHP como sua
templating engine.</p>
<div class="section" id="nocoes-basicas-sobre-a-renderizacao-de-formularios">
<h2>Noções Básicas sobre a Renderização de Formulários<a class="headerlink" href="#nocoes-basicas-sobre-a-renderizacao-de-formularios" title="Permalink to this headline">¶</a></h2>
<p>Lembre-se que o widget HTML, a label e o erro de um campo do formulário podem ser facilmente
renderizados ​​usando a função Twig <tt class="docutils literal"><span class="pre">form_row</span></tt> ou o método helper PHP
<tt class="docutils literal"><span class="pre">row</span></tt>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">form_row</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">row</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">])</span> <span class="p">}}</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Você também pode renderizar cada uma das três partes do campo individualmente:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="nt">&lt;div&gt;</span>
    <span class="cp">{{</span> <span class="nv">form_label</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="cp">{{</span> <span class="nv">form_errors</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
    <span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">])</span> <span class="p">}}</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">errors</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">])</span> <span class="p">}}</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">    </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">])</span> <span class="p">}}</span> <span class="cp">?&gt;</span><span class="x"></span>
<span class="x">&lt;/div&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Em ambos os casos, a label do formulário, os erros e o widget HTML são renderizados ​​usando
um conjunto de marcação que vem por padrão com o symfony. Por exemplo, ambos os
templates acima seriam renderizados da seguinte forma:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;form_age&quot;</span><span class="nt">&gt;</span>Age<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;ul&gt;</span>
        <span class="nt">&lt;li&gt;</span>This field is required<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;number&quot;</span> <span class="na">id=</span><span class="s">&quot;form_age&quot;</span> <span class="na">name=</span><span class="s">&quot;form[age]&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>Para protótipos rápidos e para testar um formulário, você pode renderizar todo o formulário com
apenas uma linha:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="p">}}</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>O restante desta receita irá explicar como cada parte de marcação do formulário
pode ser modificada em vários níveis diferentes. Para mais informações sobre a renderização
do formulário em geral, consulte <a class="reference internal" href="../../book/forms.html#form-rendering-template"><em>Renderizando um formulário em um Template</em></a>.</p>
</div>
<div class="section" id="o-que-sao-temas-de-formulario">
<span id="cookbook-form-customization-form-themes"></span><h2>O que são Temas de Formulário?<a class="headerlink" href="#o-que-sao-temas-de-formulario" title="Permalink to this headline">¶</a></h2>
<p>O Symfony utiliza fragmentos de formulário - um pequeno pedaço de um template que renderiza apenas
uma parte de um formulário - para renderizar cada parte de um formulário - labels de campo, os erros,
campos de texto <tt class="docutils literal"><span class="pre">input</span></tt>, tags <tt class="docutils literal"><span class="pre">select</span></tt>, etc</p>
<p>Os fragmentos são definidos como blocos no Twig e como arquivos de template no PHP.</p>
<p>Um <em>tema</em> é nada mais do que um conjunto de fragmentos que você deseja usar quando está
renderizando um formulário. Em outras palavras, se você quiser personalizar uma parte de
como um formulário é processado, você vai importar um <em>tema</em> que contém uma personalização
dos fragmentos apropriados do formulário.</p>
<p>O Symfony vem com um tema padrão (<a class="reference external" href="https://github.com/symfony/symfony/blob/2.0/src/Symfony/Bridge/Twig/Resources/views/Form/form_div_layout.html.twig">form_div_layout.html.twig</a> no Twig e
<tt class="docutils literal"><span class="pre">FrameworkBundle:Form</span></tt> no PHP) que define cada fragmento necessário
para renderizar cada parte de um formulário.</p>
<p>Na seção seguinte, você vai aprender a personalizar um tema, sobrescrevendo
alguns ou todos os seus fragmentos.</p>
<p>Por exemplo, quando o widget de um campo do tipo <tt class="docutils literal"><span class="pre">integer</span></tt> é renderizado, um campo <tt class="docutils literal"><span class="pre">input</span></tt>
<tt class="docutils literal"><span class="pre">number</span></tt> é gerado</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>renderiza:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;number&quot;</span> <span class="na">id=</span><span class="s">&quot;form_age&quot;</span> <span class="na">name=</span><span class="s">&quot;form[age]&quot;</span> <span class="na">required=</span><span class="s">&quot;required&quot;</span> <span class="na">value=</span><span class="s">&quot;33&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>Internamente, o symfony usa o fragmento <tt class="docutils literal"><span class="pre">integer_widget</span></tt> para renderizar o campo.
Isso ocorre porque o tipo de campo é <tt class="docutils literal"><span class="pre">integer</span></tt> e você está renderizando seu <tt class="docutils literal"><span class="pre">widget</span></tt>
(em oposição a sua <tt class="docutils literal"><span class="pre">label</span></tt> ou <tt class="docutils literal"><span class="pre">errors</span></tt>).</p>
<p>No Twig ele seria por padrão o bloco <tt class="docutils literal"><span class="pre">integer_widget</span></tt> do template
<a class="reference external" href="https://github.com/symfony/symfony/blob/2.0/src/Symfony/Bridge/Twig/Resources/views/Form/form_div_layout.html.twig">form_div_layout.html.twig</a>.</p>
<p>No PHP ele seria o arquivo <tt class="docutils literal"><span class="pre">integer_widget.html.php</span></tt> localizado no diretório
<tt class="docutils literal"><span class="pre">FrameworkBundle/Resources/views/Form</span></tt>.</p>
<p>A implementação padrão do fragmento <tt class="docutils literal"><span class="pre">integer_widget</span></tt> seria parecida com esta:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# form_div_layout.html.twig #}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">integer_widget</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">type</span> <span class="o">=</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;number&#39;</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;field_widget&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">integer_widget</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- integer_widget.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">renderBlock</span><span class="p">(</span><span class="s1">&#39;field_widget&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$type</span><span class="p">)</span> <span class="o">?</span> <span class="nv">$type</span> <span class="o">:</span> <span class="s2">&quot;number&quot;</span><span class="p">))</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Como você pode ver, este próprio fragmento renderiza outro fragmento - <tt class="docutils literal"><span class="pre">field_widget</span></tt>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# form_div_layout.html.twig #}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">field_widget</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">set</span> <span class="nv">type</span> <span class="o">=</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;text&#39;</span><span class="o">)</span> <span class="cp">%}</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">type</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;widget_attributes&#39;</span><span class="o">)</span> <span class="cp">}}</span> <span class="na">value=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">value</span> <span class="cp">}}</span><span class="s">&quot;</span> <span class="nt">/&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">field_widget</span> <span class="cp">%}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- FrameworkBundle/Resources/views/Form/field_widget.html.php --&gt;</span>
<span class="nt">&lt;input</span>
    <span class="na">type=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$type</span><span class="p">)</span> <span class="o">?</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$type</span><span class="p">)</span> <span class="o">:</span> <span class="s2">&quot;text&quot;</span> <span class="cp">?&gt;</span><span class="s">&quot;</span>
    <span class="na">value=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">renderBlock</span><span class="p">(</span><span class="s1">&#39;attributes&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>
<span class="nt">/&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>O ponto é, os fragmentos ditam a saída HTML de cada parte de um formulário. Para
personalizar a saída do formulário, você só precisa identificar e substituir o fragmento
apropriado. O conjunto dessas personalizações de fragmentos de formulário é conhecida como &#8220;tema&#8221; de formulário.
Ao renderizar um formulário, você pode escolher qual(ais) tema(s) de formulário deseja aplicar.</p>
<p>No Twig, um tema é um único arquivo de template e os fragmentos são os blocos definidos
neste arquivo.</p>
<p>No PHP um tema é um diretório e os fragmentos são os arquivos de template individuais neste
diretório.</p>
<div class="sidebar" id="cookbook-form-customization-sidebar">
<p class="first sidebar-title">Sabendo qual bloco personalizar</p>
<p>Neste exemplo, o nome do fragmento personalizado é <tt class="docutils literal"><span class="pre">integer_widget</span></tt> porque
você quis sobrescrever o <tt class="docutils literal"><span class="pre">widget</span></tt> HTML para todos os tipos de campo <tt class="docutils literal"><span class="pre">integer</span></tt>. Se
você precisa personalizar campos textarea, você iria personalizar o <tt class="docutils literal"><span class="pre">textarea_widget</span></tt>.</p>
<p>Como você pode ver, o nome do fragmento é uma combinação do tipo do campo e de
qual parte do campo está sendo renderizada (ex.: <tt class="docutils literal"><span class="pre">widget</span></tt>, <tt class="docutils literal"><span class="pre">label</span></tt>,
<tt class="docutils literal"><span class="pre">errors</span></tt>, <tt class="docutils literal"><span class="pre">row</span></tt>). Como tal, para personalizar a forma como os erros são renderizados
apenas para campos input <tt class="docutils literal"><span class="pre">text</span></tt>, você deve personalizar o fragmento <tt class="docutils literal"><span class="pre">text_errors</span></tt>.</p>
<p>Mais comumente, no entanto, você vai querer personalizar a forma como os erros são exibidos
através de <em>todos</em> os campos. Você pode fazer isso personalizando o fragmento
<tt class="docutils literal"><span class="pre">field_errors</span></tt>. Isso aproveita a herança do tipo de campo. Especificamente,
uma vez que o tipo <tt class="docutils literal"><span class="pre">text</span></tt> estende o tipo <tt class="docutils literal"><span class="pre">field</span></tt>, o componente de formulário
vai procurar primeiro pelo fragmento de tipo específico (ex., <tt class="docutils literal"><span class="pre">text_errors</span></tt>) antes
de voltar ao seu nome de fragmento pai, no caso dele não existir (ex., <tt class="docutils literal"><span class="pre">field_errors</span></tt>).</p>
<p class="last">Para mais informações sobre este tópico, consulte <a class="reference internal" href="../../book/forms.html#form-template-blocks"><em>Nomeando os fragmentos do formulário</em></a>.</p>
</div>
</div>
<div class="section" id="tematizando-os-formularios">
<span id="cookbook-form-theming-methods"></span><h2>Tematizando os Formulários<a class="headerlink" href="#tematizando-os-formularios" title="Permalink to this headline">¶</a></h2>
<p>Para ver o poder da tematização de formulários, suponha que você queira envolver cada campo input <tt class="docutils literal"><span class="pre">number</span></tt>
com uma tag <tt class="docutils literal"><span class="pre">div</span></tt>. A chave para fazer isso é personalizar o
fragmento <tt class="docutils literal"><span class="pre">integer_widget</span></tt>.</p>
</div>
<div class="section" id="tematizacao-de-formularios-no-twig">
<h2>Tematização de Formulários no Twig<a class="headerlink" href="#tematizacao-de-formularios-no-twig" title="Permalink to this headline">¶</a></h2>
<p>Ao personalizar o bloco de campo de formulário no Twig, você tem duas opções de <em>onde</em>
o bloco de formulário personalizado pode residir:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Método</th>
<th class="head">Prós</th>
<th class="head">Contras</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Dentro do mesmo template que o formulário</td>
<td>Rápido e fácil</td>
<td>Não pode ser reutilizado em outros templates</td>
</tr>
<tr class="row-odd"><td>Dentro de um template separado</td>
<td>Pode ser reutilizado por muitos templates</td>
<td>Requer que um template extra seja criado</td>
</tr>
</tbody>
</table>
<p>Ambos os métodos têm o mesmo efeito, mas são melhores em situações diferentes.</p>
<div class="section" id="metodo-1-dentro-do-mesmo-template-que-o-formulario">
<span id="cookbook-form-twig-theming-self"></span><h3>Método 1: Dentro do mesmo Template que o Formulário<a class="headerlink" href="#metodo-1-dentro-do-mesmo-template-que-o-formulario" title="Permalink to this headline">¶</a></h3>
<p>A maneira mais fácil de personalizar o bloco <tt class="docutils literal"><span class="pre">integer_widget</span></tt> é personalizá-lo
diretamente no mesmo template que está renderizando o formulário.</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;::base.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="p">_</span><span class="nv">self</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">integer_widget</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;integer_widget&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{%</span> <span class="k">set</span> <span class="nv">type</span> <span class="o">=</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;number&#39;</span><span class="o">)</span> <span class="cp">%}</span>
        <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;field_widget&#39;</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
    <span class="c">{# ... render the form #}</span>

    <span class="cp">{{</span> <span class="nv">form_row</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Ao usar a tag especial <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">form_theme</span> <span class="pre">form</span> <span class="pre">_self</span> <span class="pre">%}</span></tt>, o Twig procura dentro
do mesmo template por qualquer blocos de formulários sobrescritos. Assumindo que o campo
<tt class="docutils literal"><span class="pre">form.age</span></tt> é um tipo de campo <tt class="docutils literal"><span class="pre">integer</span></tt>, quando o widget é renderizado, o bloco <tt class="docutils literal"><span class="pre">integer_widget</span></tt>
personalizado irá ser utilizado.</p>
<p>A desvantagem deste método é que o bloco de formulário personalizado não pode ser
reutilizado ao renderizar outros formulários em outros templates. Em outras palavras, este método
é mais útil ao fazer personalizações de formulários que são específicas para um único
formulário em sua aplicação. Se você quiser reutilizar uma personalização em
vários (ou todos) os formulários de sua aplicação, leia a próxima seção.</p>
</div>
<div class="section" id="metodo-2-dentro-de-um-template-separado">
<span id="cookbook-form-twig-separate-template"></span><h3>Método 2: Dentro de um Template Separado<a class="headerlink" href="#metodo-2-dentro-de-um-template-separado" title="Permalink to this headline">¶</a></h3>
<p>Você também pode optar por colocar o bloco de formulário <tt class="docutils literal"><span class="pre">integer_widget</span></tt> personalizado em um
template totalmente separado. O código e o resultado final é o mesmo, mas
agora você pode reutilizar a personalização de formulário em muitos templates:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/DemoBundle/Resources/views/Form/fields.html.twig #}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">integer_widget</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;integer_widget&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{%</span> <span class="k">set</span> <span class="nv">type</span> <span class="o">=</span> <span class="nv">type</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;number&#39;</span><span class="o">)</span> <span class="cp">%}</span>
        <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;field_widget&#39;</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Agora que você já criou o bloco de formulário personalizado, você precisa dizer ao Symfony
para usá-lo. Dentro do template onde você está renderizando o seu formulário,
diga ao Symfony para usar o template através da tag <tt class="docutils literal"><span class="pre">form_theme</span></tt>:</p>
<div class="highlight-html+jinja" id="cookbook-form-twig-theme-import-template"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="s1">&#39;AcmeDemoBundle:Form:fields.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div>
</div>
<p>Quando o widget <tt class="docutils literal"><span class="pre">form.age</span></tt> é renderizado, o Symfony usará o bloco
<tt class="docutils literal"><span class="pre">integer_widget</span></tt> do novo template e a tag <tt class="docutils literal"><span class="pre">input</span></tt> vai ser envolvida no
elemento <tt class="docutils literal"><span class="pre">div</span></tt> especificado no bloco personalizado.</p>
</div>
</div>
<div class="section" id="tematizando-formularios-em-php">
<span id="cookbook-form-php-theming"></span><h2>Tematizando Formulários em PHP<a class="headerlink" href="#tematizando-formularios-em-php" title="Permalink to this headline">¶</a></h2>
<p>Ao usar o PHP como templating engine, o único método de personalizar um fragmento
é criar um novo arquivo template - é semelhante ao segundo método utilizado pelo
Twig.</p>
<p>O arquivo de template deve ser nomeado após o fragmento. Você deve criar um arquivo <tt class="docutils literal"><span class="pre">integer_widget.html.php</span></tt>
para personalizar o fragmento <tt class="docutils literal"><span class="pre">integer_widget</span></tt>.</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- src/Acme/DemoBundle/Resources/views/Form/integer_widget.html.php --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;integer_widget&quot;</span><span class="nt">&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">renderBlock</span><span class="p">(</span><span class="s1">&#39;field_widget&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$type</span><span class="p">)</span> <span class="o">?</span> <span class="nv">$type</span> <span class="o">:</span> <span class="s2">&quot;number&quot;</span><span class="p">))</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>Agora que você criou o template de formulário personalizado, você precisa dizer ao Symfony
para usá-lo. Dentro do template onde você está renderizando o seu formulário,
diga ao Symfony para usar o tema através do método helper <tt class="docutils literal"><span class="pre">setTheme</span></tt>:</p>
<div class="highlight-php" id="cookbook-form-php-theme-import-template"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">setTheme</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;AcmeDemoBundle:Form&#39;</span><span class="p">))</span> <span class="p">;</span><span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">])</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>Quando o widget <tt class="docutils literal"><span class="pre">form.age</span></tt> é renderizado, o Symfony vai usar o template
<tt class="docutils literal"><span class="pre">integer_widget.html.php</span></tt> personalizado e a tag <tt class="docutils literal"><span class="pre">input</span></tt> será envolvida pelo
elemento <tt class="docutils literal"><span class="pre">div</span></tt>.</p>
</div>
<div class="section" id="referenciando-blocos-de-formulario-base-especifico-para-o-twig">
<span id="cookbook-form-twig-import-base-blocks"></span><h2>Referenciando Blocos de Formulário Base (específico para o Twig)<a class="headerlink" href="#referenciando-blocos-de-formulario-base-especifico-para-o-twig" title="Permalink to this headline">¶</a></h2>
<p>Até agora, para sobrescrever um bloco de formulário em particular, o melhor método é copiar
o bloco padrão de <a class="reference external" href="https://github.com/symfony/symfony/blob/2.0/src/Symfony/Bridge/Twig/Resources/views/Form/form_div_layout.html.twig">form_div_layout.html.twig</a>, colá-lo em um template diferente,
e, em seguida, personalizá-lo. Em muitos casos, você pode evitar ter que fazer isso através da referência
ao bloco base quando for personalizá-lo.</p>
<p>Isso é fácil de fazer, mas varia um pouco dependendo se as personalizações de seu bloco de formulário
estão no mesmo template que o formulário ou em um template separado.</p>
<div class="section" id="referenciando-blocos-no-interior-do-mesmo-template-que-o-formulario">
<h3>Referenciando Blocos no interior do mesmo Template que o Formulário<a class="headerlink" href="#referenciando-blocos-no-interior-do-mesmo-template-que-o-formulario" title="Permalink to this headline">¶</a></h3>
<p>Importe os blocos adicionando uma tag <tt class="docutils literal"><span class="pre">use</span></tt> no template onde você está renderizando
o formulário:</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">use</span> <span class="s1">&#39;form_div_layout.html.twig&#39;</span> <span class="k">with</span> <span class="nv">integer_widget</span> <span class="k">as</span> <span class="nv">base_integer_widget</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p>Agora, quando os blocos do <a class="reference external" href="https://github.com/symfony/symfony/blob/2.0/src/Symfony/Bridge/Twig/Resources/views/Form/form_div_layout.html.twig">form_div_layout.html.twig</a> são importados, o
bloco <tt class="docutils literal"><span class="pre">integer_widget</span></tt> é chamado <tt class="docutils literal"><span class="pre">base_integer_widget</span></tt>. Isto significa que quando
você redefinir o bloco <tt class="docutils literal"><span class="pre">integer_widget</span></tt>, você pode fazer referência a marcação padrão
através do <tt class="docutils literal"><span class="pre">base_integer_widget</span></tt>:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">block</span> <span class="nv">integer_widget</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;integer_widget&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;base_integer_widget&#39;</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</div>
<div class="section" id="referenciando-blocos-base-a-partir-de-um-template-externo">
<h3>Referenciando Blocos Base a partir de um Template Externo<a class="headerlink" href="#referenciando-blocos-base-a-partir-de-um-template-externo" title="Permalink to this headline">¶</a></h3>
<p>Se as personalizações do formulário residirem dentro de um template externo, você pode fazer referência
ao bloco base usando a função <tt class="docutils literal"><span class="pre">parent()</span></tt> do Twig:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# src/Acme/DemoBundle/Resources/views/Form/fields.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;form_div_layout.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">integer_widget</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;integer_widget&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Não é possível fazer referência ao bloco base quando se utiliza o PHP
como template engine. Você tem que copiar manualmente o conteúdo do bloco base
para o seu novo arquivo de template.</p>
</div>
</div>
</div>
<div class="section" id="fazendo-personalizacoes-para-toda-a-aplicacao">
<span id="cookbook-form-global-theming"></span><h2>Fazendo Personalizações para toda a Aplicação<a class="headerlink" href="#fazendo-personalizacoes-para-toda-a-aplicacao" title="Permalink to this headline">¶</a></h2>
<p>Se você deseja que uma certa personalização de formulário seja global para a sua aplicação,
você pode conseguir isso fazendo as personalizações de formulário em um template
externo e depois importá-lo dentro da sua configuração da aplicação:</p>
<div class="section" id="twig">
<h3>Twig<a class="headerlink" href="#twig" title="Permalink to this headline">¶</a></h3>
<p>Usando a seguinte configuração, quaisquer blocos de formulários personalizados dentro do
template <tt class="docutils literal"><span class="pre">AcmeDemoBundle:Form:fields.html.twig</span></tt> serão usados globalmente quando um
formulário é renderizado.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">twig</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">form</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">resources</span><span class="p-Indicator">:</span>
            <span class="p-Indicator">-</span> <span class="s">&#39;AcmeDemoBundle:Form:fields.html.twig&#39;</span>
    <span class="c1"># ...</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre>&lt;!-- app/config/config.xml --&gt;
&lt;twig:config ...&gt;
        &lt;twig:form&gt;
            &lt;resource&gt;AcmeDemoBundle:Form:fields.html.twig&lt;/resource&gt;
        &lt;/twig:form&gt;
        &lt;!-- ... --&gt;
&lt;/twig:config&gt;
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// app/config/config.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;twig&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;form&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;resources&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;AcmeDemoBundle:Form:fields.html.twig&#39;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">),</span>

    <span class="c1">// ...</span>
<span class="p">));</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Por padrão, o Twig usa um layout <em>div</em> ao renderizar os formulários. Algumas pessoas, no entanto,
podem preferir renderizar formulários em um layout de <em>tabela</em>. Para isso use o recurso
<tt class="docutils literal"><span class="pre">form_table_layout.html.twig</span></tt> como layout:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">twig</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">form</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">resources</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="s">&#39;form_table_layout.html.twig&#39;</span><span class="p-Indicator">]</span>
    <span class="c1"># ...</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre>&lt;!-- app/config/config.xml --&gt;
&lt;twig:config ...&gt;
        &lt;twig:form&gt;
            &lt;resource&gt;form_table_layout.html.twig&lt;/resource&gt;
        &lt;/twig:form&gt;
        &lt;!-- ... --&gt;
&lt;/twig:config&gt;
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// app/config/config.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;twig&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;form&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;resources&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;form_table_layout.html.twig&#39;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">),</span>

    <span class="c1">// ...</span>
<span class="p">));</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Se você quer fazer a alteração somente em um template, adicione a seguinte linha
em seu arquivo de template em vez de adicionar o template como um recurso:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="s1">&#39;form_table_layout.html.twig&#39;</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Note que a variável <tt class="docutils literal"><span class="pre">form</span></tt> no código acima é a variável de visão do formulário
que você passou para o seu template.</p>
</div>
<div class="section" id="php">
<h3>PHP<a class="headerlink" href="#php" title="Permalink to this headline">¶</a></h3>
<p>Usando a seguinte configuração, quaisquer fragmentos de formulários personalizados no interior do
diretório <tt class="docutils literal"><span class="pre">src/Acme/DemoBundle/Resources/views/Form</span></tt> serão usados globalmente quando um
formulário é renderizado.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">framework</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">templating</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">form</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">resources</span><span class="p-Indicator">:</span>
                <span class="p-Indicator">-</span> <span class="s">&#39;AcmeDemoBundle:Form&#39;</span>
    <span class="c1"># ...</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre>&lt;!-- app/config/config.xml --&gt;
&lt;framework:config ...&gt;
    &lt;framework:templating&gt;
        &lt;framework:form&gt;
            &lt;resource&gt;AcmeDemoBundle:Form&lt;/resource&gt;
        &lt;/framework:form&gt;
    &lt;/framework:templating&gt;
    &lt;!-- ... --&gt;
&lt;/framework:config&gt;
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// app/config/config.php</span>
<span class="c1">// PHP</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;framework&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;templating&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;form&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;resources&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;AcmeDemoBundle:Form&#39;</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">),</span>
     <span class="p">),</span>

     <span class="c1">// ...</span>
<span class="p">));</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Por padrão, a engine PHP usa um layout <em>div</em> ao renderizar formulários. Algumas pessoas,
no entanto, podem preferir renderizar formulários em um layout de <em>tabela</em>. Para isso use o recurso <tt class="docutils literal"><span class="pre">FrameworkBundle:FormTable</span></tt>
como layout:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">framework</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">templating</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">form</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">resources</span><span class="p-Indicator">:</span>
                <span class="p-Indicator">-</span> <span class="s">&#39;FrameworkBundle:FormTable&#39;</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre>&lt;!-- app/config/config.xml --&gt;
&lt;framework:config ...&gt;
    &lt;framework:templating&gt;
        &lt;framework:form&gt;
            &lt;resource&gt;FrameworkBundle:FormTable&lt;/resource&gt;
        &lt;/framework:form&gt;
    &lt;/framework:templating&gt;
    &lt;!-- ... --&gt;
&lt;/framework:config&gt;
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="c1">// app/config/config.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span class="p">(</span><span class="s1">&#39;framework&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;templating&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;form&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;resources&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;FrameworkBundle:FormTable&#39;</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">),</span>
    <span class="p">),</span>

     <span class="c1">// ...</span>
<span class="p">));</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Se você quer fazer a alteração somente em um template, adicione a seguinte linha
em seu arquivo de template em vez de adicionar o template como um recurso:</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">setTheme</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;FrameworkBundle:FormTable&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
<p>Note que a variável <tt class="docutils literal"><span class="pre">$form</span></tt> no código acima é a variável de visão do formulário
que você passou para o seu template.</p>
</div>
</div>
<div class="section" id="como-personalizar-um-campo-individual">
<h2>Como personalizar um campo individual<a class="headerlink" href="#como-personalizar-um-campo-individual" title="Permalink to this headline">¶</a></h2>
<p>Até agora, você viu as diferentes maneiras que pode personalizar a saída dos widgets
de todos os tipos de campo texto. Você também pode personalizar campos individuais. Por exemplo,
supondo que você tenha dois campos <tt class="docutils literal"><span class="pre">text</span></tt> - <tt class="docutils literal"><span class="pre">first_name</span></tt> e <tt class="docutils literal"><span class="pre">last_name</span></tt> - mas
você só quer personalizar um dos campos. Isto pode ser feito pela
personalização de um fragmento cujo nome é uma combinação do atributo id do campo e
qual parte do campo está sendo personalizada. Por exemplo:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="p">_</span><span class="nv">self</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="p">_</span><span class="nv">product_name_widget</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;text_widget&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;field_widget&#39;</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.name</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- Main template --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">setTheme</span><span class="p">(</span><span class="nv">$form</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;AcmeDemoBundle:Form&#39;</span><span class="p">));</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]);</span> <span class="cp">?&gt;</span>

<span class="c">&lt;!-- src/Acme/DemoBundle/Resources/views/Form/_product_name_widget.html.php --&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;text_widget&quot;</span><span class="nt">&gt;</span>
      echo $view[&#39;form&#39;]-&gt;renderBlock(&#39;field_widget&#39;) ?&gt;
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Aqui, o fragmento <tt class="docutils literal"><span class="pre">_product_name_widget</span></tt> define o template a ser usado para o
campo cujo <em>id</em> é <tt class="docutils literal"><span class="pre">product_name</span></tt> (e o nome é <tt class="docutils literal"><span class="pre">product[name]</span></tt>).</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">A parte <tt class="docutils literal"><span class="pre">product</span></tt> do campo é o nome do formulário, que pode ser definido
manualmente ou gerado automaticamente com base no nome do tipo de formulário (por exemplo,
<tt class="docutils literal"><span class="pre">ProductType</span></tt> equivale ao <tt class="docutils literal"><span class="pre">product</span></tt>). Se você não tem certeza de qual é o nome de seu
formulário, apenas visualize o código fonte do formulário gerado.</p>
</div>
<p>Você também pode sobrescrever a marcação de uma linha inteira de campo utilizando o mesmo método:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# _product_name_row.html.twig #}</span>
<span class="cp">{%</span> <span class="k">form_theme</span> <span class="nv">form</span> <span class="p">_</span><span class="nv">self</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="p">_</span><span class="nv">product_name_row</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;name_row&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{{</span> <span class="nv">form_label</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span>
        <span class="cp">{{</span> <span class="nv">form_errors</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span>
        <span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- _product_name_row.html.php --&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;name_row&quot;</span><span class="nt">&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">errors</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="outras-personalizacoes-comuns">
<h2>Outras Personalizações Comuns<a class="headerlink" href="#outras-personalizacoes-comuns" title="Permalink to this headline">¶</a></h2>
<p>Até agora, esta receita tem demonstrado diversas maneiras de personalizar um único
pedaço de como um formulário é renderizado. A chave é personalizar um fragmento específico que
corresponde à parte do formulário que você deseja controlar (veja
<a class="reference internal" href="#cookbook-form-customization-sidebar"><em>naming form blocks</em></a>).</p>
<p>Nas próximas seções, você vai ver como é possível fazer várias personalizações comuns de formulário.
Para aplicar essas personalizações, utilize um dos métodos descritos na
seção <a class="reference internal" href="#cookbook-form-theming-methods"><em>Tematizando os Formulários</em></a>.</p>
<div class="section" id="personalizando-saida-de-erro">
<h3>Personalizando Saída de Erro<a class="headerlink" href="#personalizando-saida-de-erro" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">O componente de formulário só lida com <em>como</em> os erros de validação são renderizados,
e não com as mensagens de erro de validação. As mensagens de erro em si
são determinadas pelas restrições de validação que você aplicou aos seus objetos.
Para mais informações, consulte o capítulo sobre <a class="reference internal" href="../../book/validation.html"><em>validation</em></a>.</p>
</div>
<p>Há muitas formas diferentes para personalizar como os erros são renderizados quando um
formulário é enviado com erros. As mensagens de erro para um campo são renderizadas
quando você usa o helper <tt class="docutils literal"><span class="pre">form_errors</span></tt>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">form_errors</span><span class="o">(</span><span class="nv">form.age</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">errors</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]);</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Por padrão, os erros são renderizados dentro de uma lista não ordenada:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="nt">&lt;li&gt;</span>This field is required<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
</div>
<p>Para sobrecrever como os erros são renderizados para <em>todos</em> os campos, basta copiar, colar
e personalizar o fragmento <tt class="docutils literal"><span class="pre">field_errors</span></tt>.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# fields_errors.html.twig #}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">field_errors</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">spaceless</span> <span class="cp">%}</span>
        <span class="cp">{%</span> <span class="k">if</span> <span class="nv">errors</span><span class="o">|</span><span class="nf">length</span> <span class="o">&gt;</span> <span class="m">0</span> <span class="cp">%}</span>
        <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;error_list&quot;</span><span class="nt">&gt;</span>
            <span class="cp">{%</span> <span class="k">for</span> <span class="nv">error</span> <span class="k">in</span> <span class="nv">errors</span> <span class="cp">%}</span>
                <span class="nt">&lt;li&gt;</span><span class="cp">{{</span> <span class="nv">error.messageTemplate</span><span class="o">|</span><span class="nf">trans</span><span class="o">(</span><span class="nv">error.messageParameters</span><span class="o">,</span> <span class="s1">&#39;validators&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="nt">&lt;/li&gt;</span>
            <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
        <span class="nt">&lt;/ul&gt;</span>
        <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">endspaceless</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">field_errors</span> <span class="cp">%}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- fields_errors.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$errors</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;error_list&quot;</span><span class="nt">&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$errors</span> <span class="k">as</span> <span class="nv">$error</span><span class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
            <span class="nt">&lt;li&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;translator&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">trans</span><span class="p">(</span>
                <span class="nv">$error</span><span class="o">-&gt;</span><span class="na">getMessageTemplate</span><span class="p">(),</span>
                <span class="nv">$error</span><span class="o">-&gt;</span><span class="na">getMessageParameters</span><span class="p">(),</span>
                <span class="s1">&#39;validators&#39;</span>
            <span class="p">)</span> <span class="cp">?&gt;</span><span class="nt">&lt;/li&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">endforeach</span><span class="p">;</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Veja <a class="reference internal" href="#cookbook-form-theming-methods"><em>Tematizando os Formulários</em></a> para saber como aplicar essa personalização.</p>
</div>
<p>Você também pode personalizar a saída de erro de apenas um tipo de campo específico.
Por exemplo, certos erros que são mais globais para o seu formulário (ou seja, não específico
para apenas um campo) são renderizados separadamente, geralmente no topo do seu formulário:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">form_errors</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="nv">$form</span><span class="p">);</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Para personalizar <em>apenas</em> a marcação usada para esses erros, siga as mesmas instruções
acima, mas agora chame o bloco <tt class="docutils literal"><span class="pre">form_errors</span></tt> (Twig) / o arquivo <tt class="docutils literal"><span class="pre">form_errors.html.php</span></tt>
(PHP). Agora, quando os erros para o tipo <tt class="docutils literal"><span class="pre">form</span></tt> são renderizados, o seu fragmento
personalizado será usado em vez do padrão <tt class="docutils literal"><span class="pre">field_errors</span></tt>.</p>
</div>
<div class="section" id="personalizando-a-linha-de-formulario">
<h3>Personalizando a &#8220;Linha de Formulário&#8221;<a class="headerlink" href="#personalizando-a-linha-de-formulario" title="Permalink to this headline">¶</a></h3>
<p>Quando você pode gerenciá-lo, a maneira mais fácil de renderizar um campo de formulário é através da
função <tt class="docutils literal"><span class="pre">form_row</span></tt>, que renderiza a label, os erros e o widget HTML de
um campo. Para personalizar a marcação usada para renderizar <em>todas</em> as linhas de campo do formulário,
sobrescreva o fragmento <tt class="docutils literal"><span class="pre">field_row</span></tt>. Por exemplo, suponha que você deseja adicionar uma
classe para o elemento <tt class="docutils literal"><span class="pre">div</span></tt> que envolve cada linha:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-html+jinja"><div class="highlight"><pre><span class="c">{# field_row.html.twig #}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">field_row</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;form_row&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{{</span> <span class="nv">form_label</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span>
        <span class="cp">{{</span> <span class="nv">form_errors</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span>
        <span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form</span><span class="o">)</span> <span class="cp">}}</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="nv">field_row</span> <span class="cp">%}</span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- field_row.html.php --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;form_row&quot;</span><span class="nt">&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">label</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">errors</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">)</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Veja <a class="reference internal" href="#cookbook-form-theming-methods"><em>Tematizando os Formulários</em></a> para saber como aplicar essa personalização.</p>
</div>
</div>
<div class="section" id="adicionando-um-asterisco-para-as-labels-de-campo-obrigatorias">
<h3>Adicionando um Asterisco para as Labels de Campo &#8220;Obrigatórias&#8221;<a class="headerlink" href="#adicionando-um-asterisco-para-as-labels-de-campo-obrigatorias" title="Permalink to this headline">¶</a></h3>
<p>Se você quiser indicar todos os seus campos obrigatórios com um asterisco (<tt class="docutils literal"><span class="pre">*</span></tt>),
você pode fazer isso personalizando o fragmento <tt class="docutils literal"><span class="pre">field_label</span></tt>.</p>
<p>No Twig, se você estiver fazendo a personalização de formulário dentro do mesmo template que o seu
formulário, modifique a tag <tt class="docutils literal"><span class="pre">use</span></tt> e adicione o seguinte:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">use</span> <span class="s1">&#39;form_div_layout.html.twig&#39;</span> <span class="k">with</span> <span class="nv">field_label</span> <span class="k">as</span> <span class="nv">base_field_label</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">field_label</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;base_field_label&#39;</span><span class="o">)</span> <span class="cp">}}</span>

    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">required</span> <span class="cp">%}</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;required&quot;</span> <span class="na">title=</span><span class="s">&quot;This field is required&quot;</span><span class="nt">&gt;</span>*<span class="nt">&lt;/span&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>No Twig, se você estiver fazendo a personalização do formulário dentro de um template separado, use
o seguinte:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;form_div_layout.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">field_label</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span>

    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">required</span> <span class="cp">%}</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;required&quot;</span> <span class="na">title=</span><span class="s">&quot;This field is required&quot;</span><span class="nt">&gt;</span>*<span class="nt">&lt;/span&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Ao usar o PHP como template engine você tem que copiar o conteúdo do
template original:</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- field_label.html.php --&gt;</span>

<span class="c">&lt;!-- original content --&gt;</span>
<span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$id</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span> <span class="cp">&lt;?php</span> <span class="k">foreach</span><span class="p">(</span><span class="nv">$attr</span> <span class="k">as</span> <span class="nv">$k</span> <span class="o">=&gt;</span> <span class="nv">$v</span><span class="p">)</span> <span class="p">{</span> <span class="nb">printf</span><span class="p">(</span><span class="s1">&#39;%s=&quot;%s&quot; &#39;</span><span class="p">,</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$k</span><span class="p">),</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$v</span><span class="p">));</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="nt">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;translator&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">trans</span><span class="p">(</span><span class="nv">$label</span><span class="p">))</span> <span class="cp">?&gt;</span><span class="nt">&lt;/label&gt;</span>

<span class="c">&lt;!-- customization --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$required</span><span class="p">)</span> <span class="o">:</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;required&quot;</span> <span class="na">title=</span><span class="s">&quot;This field is required&quot;</span><span class="nt">&gt;</span>*<span class="nt">&lt;/span&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Veja <a class="reference internal" href="#cookbook-form-theming-methods"><em>Tematizando os Formulários</em></a> para saber como aplicar essa personalização.</p>
</div>
</div>
<div class="section" id="adicionando-mensagens-de-ajuda">
<h3>Adicionando mensagens de &#8220;ajuda&#8221;<a class="headerlink" href="#adicionando-mensagens-de-ajuda" title="Permalink to this headline">¶</a></h3>
<p>Você também pode personalizar os widgets do formulário para ter uma mensagem opcional de &#8220;ajuda&#8221;.</p>
<p>No Twig, se você está fazendo a personalização do formulário dentro do mesmo template que o seu
formulário, modifique a tag <tt class="docutils literal"><span class="pre">use</span></tt> e adicione o seguinte:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">use</span> <span class="s1">&#39;form_div_layout.html.twig&#39;</span> <span class="k">with</span> <span class="nv">field_widget</span> <span class="k">as</span> <span class="nv">base_field_widget</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">field_widget</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nb">block</span><span class="o">(</span><span class="s1">&#39;base_field_widget&#39;</span><span class="o">)</span> <span class="cp">}}</span>

    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">help</span> <span class="k">is</span> <span class="nf">defined</span> <span class="cp">%}</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;help&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">help</span> <span class="cp">}}</span><span class="nt">&lt;/span&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>No Twig, se você está fazendo a personalização do formulário dentro de um template separado, use
o seguinte:</p>
<div class="highlight-html+jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;form_div_layout.html.twig&#39;</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">field_widget</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span>

    <span class="cp">{%</span> <span class="k">if</span> <span class="nv">help</span> <span class="k">is</span> <span class="nf">defined</span> <span class="cp">%}</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;help&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">help</span> <span class="cp">}}</span><span class="nt">&lt;/span&gt;</span>
    <span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>Ao usar o PHP como template engine você tem que copiar o conteúdo do
template original:</p>
<div class="highlight-html+php"><div class="highlight"><pre><span class="c">&lt;!-- field_widget.html.php --&gt;</span>

<span class="c">&lt;!-- Original content --&gt;</span>
<span class="nt">&lt;input</span>
    <span class="na">type=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$type</span><span class="p">)</span> <span class="o">?</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$type</span><span class="p">)</span> <span class="o">:</span> <span class="s2">&quot;text&quot;</span> <span class="cp">?&gt;</span><span class="s">&quot;</span>
    <span class="na">value=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">renderBlock</span><span class="p">(</span><span class="s1">&#39;attributes&#39;</span><span class="p">)</span> <span class="cp">?&gt;</span>
<span class="nt">/&gt;</span>

<span class="c">&lt;!-- Customization --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$help</span><span class="p">))</span> <span class="o">:</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;help&quot;</span><span class="nt">&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$help</span><span class="p">)</span> <span class="cp">?&gt;</span><span class="nt">&lt;/span&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span>
</pre></div>
</div>
<p>Para renderizar uma mensagem de ajuda abaixo de um campo, passe em uma variável <tt class="docutils literal"><span class="pre">help</span></tt>:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.title</span><span class="o">,</span> <span class="o">{</span><span class="s1">&#39;help&#39;</span><span class="o">:</span> <span class="s1">&#39;foobar&#39;</span><span class="o">})</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;help&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;foobar&#39;</span><span class="p">))</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Veja:ref:<cite>cookbook-form-theming-methods</cite> para saber como aplicar essa personalização.</p>
</div>
</div>
</div>
<div class="section" id="usando-variaveis-de-formulario">
<h2>Usando Variáveis de ​​Formulário<a class="headerlink" href="#usando-variaveis-de-formulario" title="Permalink to this headline">¶</a></h2>
<p>A maioria das funções disponíveis para renderizar diferentes partes de um formulário (por exemplo,
o widget de formulário, a label do formulário, os erros de formulário, etc) também permitem que você faça certas
personalizações diretamente. Veja o exemplo a seguir:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>Twig</em><div class="highlight-jinja"><div class="highlight"><pre><span class="c">{# render a widget, but add a &quot;foo&quot; class to it #}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">form_widget</span><span class="o">(</span><span class="nv">form.name</span><span class="o">,</span> <span class="o">{</span> <span class="s1">&#39;attr&#39;</span><span class="o">:</span> <span class="o">{</span><span class="s1">&#39;class&#39;</span><span class="o">:</span> <span class="s1">&#39;foo&#39;</span><span class="o">}</span> <span class="o">})</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</li>
<li><em>PHP</em><div class="highlight-php"><div class="highlight"><pre><span class="o">&lt;!--</span> <span class="nx">render</span> <span class="nx">a</span> <span class="nx">widget</span><span class="p">,</span> <span class="nx">but</span> <span class="nx">add</span> <span class="nx">a</span> <span class="s2">&quot;foo&quot;</span> <span class="k">class</span> <span class="nc">to</span> <span class="nx">it</span> <span class="o">--&gt;</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">widget</span><span class="p">(</span><span class="nv">$form</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;attr&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">))</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>O array passado como segundo argumento contém &#8220;variáveis&#8221; de formulário. Para
mais detalhes sobre este conceito no Twig, veja <em class="xref std std-ref">twig-reference-form-variables</em>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Como personalizar a Renderização de Formulários</a><ul>
<li><a class="reference internal" href="#nocoes-basicas-sobre-a-renderizacao-de-formularios">Noções Básicas sobre a Renderização de Formulários</a></li>
<li><a class="reference internal" href="#o-que-sao-temas-de-formulario">O que são Temas de Formulário?</a></li>
<li><a class="reference internal" href="#tematizando-os-formularios">Tematizando os Formulários</a></li>
<li><a class="reference internal" href="#tematizacao-de-formularios-no-twig">Tematização de Formulários no Twig</a><ul>
<li><a class="reference internal" href="#metodo-1-dentro-do-mesmo-template-que-o-formulario">Método 1: Dentro do mesmo Template que o Formulário</a></li>
<li><a class="reference internal" href="#metodo-2-dentro-de-um-template-separado">Método 2: Dentro de um Template Separado</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tematizando-formularios-em-php">Tematizando Formulários em PHP</a></li>
<li><a class="reference internal" href="#referenciando-blocos-de-formulario-base-especifico-para-o-twig">Referenciando Blocos de Formulário Base (específico para o Twig)</a><ul>
<li><a class="reference internal" href="#referenciando-blocos-no-interior-do-mesmo-template-que-o-formulario">Referenciando Blocos no interior do mesmo Template que o Formulário</a></li>
<li><a class="reference internal" href="#referenciando-blocos-base-a-partir-de-um-template-externo">Referenciando Blocos Base a partir de um Template Externo</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fazendo-personalizacoes-para-toda-a-aplicacao">Fazendo Personalizações para toda a Aplicação</a><ul>
<li><a class="reference internal" href="#twig">Twig</a></li>
<li><a class="reference internal" href="#php">PHP</a></li>
</ul>
</li>
<li><a class="reference internal" href="#como-personalizar-um-campo-individual">Como personalizar um campo individual</a></li>
<li><a class="reference internal" href="#outras-personalizacoes-comuns">Outras Personalizações Comuns</a><ul>
<li><a class="reference internal" href="#personalizando-saida-de-erro">Personalizando Saída de Erro</a></li>
<li><a class="reference internal" href="#personalizando-a-linha-de-formulario">Personalizando a &#8220;Linha de Formulário&#8221;</a></li>
<li><a class="reference internal" href="#adicionando-um-asterisco-para-as-labels-de-campo-obrigatorias">Adicionando um Asterisco para as Labels de Campo &#8220;Obrigatórias&#8221;</a></li>
<li><a class="reference internal" href="#adicionando-mensagens-de-ajuda">Adicionando mensagens de &#8220;ajuda&#8221;</a></li>
</ul>
</li>
<li><a class="reference internal" href="#usando-variaveis-de-formulario">Usando Variáveis de ​​Formulário</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Formulário</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="data_transformers.html"
                        title="next chapter">Como usar os Transformadores de Dados</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/cookbook/form/form_customization.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="data_transformers.html" title="Como usar os Transformadores de Dados"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Formulário"
             >previous</a> |</li>
        <li><a href="../../index.html">Symfony2.4Docs 2.4 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Cookbook</a> &raquo;</li>
          <li><a href="index.html" >Formulário</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Symfony Team + Symfony pt_BR Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>