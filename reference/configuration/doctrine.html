<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuração do DoctrineBundle (“doctrine”) &mdash; Symfony2.4Docs 2.4 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Symfony2.4Docs 2.4 documentation" href="../../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../../index.html">Symfony2.4Docs 2.4 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="configuracao-do-doctrinebundle-doctrine">
<span id="index-0"></span><h1>Configuração do DoctrineBundle (&#8220;doctrine&#8221;)<a class="headerlink" href="#configuracao-do-doctrinebundle-doctrine" title="Permalink to this headline">¶</a></h1>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre>doctrine:
    dbal:
        default_connection:   default
        types:
            # A collection of custom types
            # Example
            some_custom_type:
                class:                Acme\HelloBundle\MyCustomType
                commented:            true

        connections:
            default:
                dbname:               database

            # A collection of different named connections (e.g. default, conn2, etc)
            default:
                dbname:               ~
                host:                 localhost
                port:                 ~
                user:                 root
                password:             ~
                charset:              ~
                path:                 ~
                memory:               ~

                # The unix socket to use for MySQL
                unix_socket:          ~

                # True to use as persistent connection for the ibm_db2 driver
                persistent:           ~

                # The protocol to use for the ibm_db2 driver (default to TCPIP if omitted)
                protocol:             ~

                # True to use dbname as service name instead of SID for Oracle
                service:              ~

                # The session mode to use for the oci8 driver
                sessionMode:          ~

                # True to use a pooled server with the oci8 driver
                pooled:               ~

                # Configuring MultipleActiveResultSets for the pdo_sqlsrv driver
                MultipleActiveResultSets:  ~
                driver:               pdo_mysql
                platform_service:     ~
                logging:              %kernel.debug%
                profiling:            %kernel.debug%
                driver_class:         ~
                wrapper_class:        ~
                options:
                    # an array of options
                    key:                  []
                mapping_types:
                    # an array of mapping types
                    name:                 []
                slaves:

                    # a collection of named slave connections (e.g. slave1, slave2)
                    slave1:
                        dbname:               ~
                        host:                 localhost
                        port:                 ~
                        user:                 root
                        password:             ~
                        charset:              ~
                        path:                 ~
                        memory:               ~

                        # The unix socket to use for MySQL
                        unix_socket:          ~

                        # True to use as persistent connection for the ibm_db2 driver
                        persistent:           ~

                        # The protocol to use for the ibm_db2 driver (default to TCPIP if omitted)
                        protocol:             ~

                        # True to use dbname as service name instead of SID for Oracle
                        service:              ~

                        # The session mode to use for the oci8 driver
                        sessionMode:          ~

                        # True to use a pooled server with the oci8 driver
                        pooled:               ~

                        # Configuring MultipleActiveResultSets for the pdo_sqlsrv driver
                        MultipleActiveResultSets:  ~

    orm:
        default_entity_manager:  ~
        auto_generate_proxy_classes:  false
        proxy_dir:            %kernel.cache_dir%/doctrine/orm/Proxies
        proxy_namespace:      Proxies
        # search for the &quot;ResolveTargetEntityListener&quot; class for a cookbook about this
        resolve_target_entities: []
        entity_managers:
            # A collection of different named entity managers (e.g. some_em, another_em)
            some_em:
                query_cache_driver:
                    type:                 array # Required
                    host:                 ~
                    port:                 ~
                    instance_class:       ~
                    class:                ~
                metadata_cache_driver:
                    type:                 array # Required
                    host:                 ~
                    port:                 ~
                    instance_class:       ~
                    class:                ~
                result_cache_driver:
                    type:                 array # Required
                    host:                 ~
                    port:                 ~
                    instance_class:       ~
                    class:                ~
                connection:           ~
                class_metadata_factory_name:  Doctrine\ORM\Mapping\ClassMetadataFactory
                default_repository_class:  Doctrine\ORM\EntityRepository
                auto_mapping:         false
                hydrators:

                    # An array of hydrator names
                    hydrator_name:                 []
                mappings:
                    # An array of mappings, which may be a bundle name or something else
                    mapping_name:
                        mapping:              true
                        type:                 ~
                        dir:                  ~
                        alias:                ~
                        prefix:               ~
                        is_bundle:            ~
                dql:
                    # a collection of string functions
                    string_functions:
                        # example
                        # test_string: Acme\HelloBundle\DQL\StringFunction

                    # a collection of numeric functions
                    numeric_functions:
                        # example
                        # test_numeric: Acme\HelloBundle\DQL\NumericFunction

                    # a collection of datetime functions
                    datetime_functions:
                        # example
                        # test_datetime: Acme\HelloBundle\DQL\DatetimeFunction

                # Register SQL Filters in the entity manager
                filters:
                    # An array of filters
                    some_filter:
                        class:                ~ # Required
                        enabled:              false
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:doctrine=</span><span class="s">&quot;http://symfony.com/schema/dic/doctrine&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">                        http://symfony.com/schema/dic/doctrine http://symfony.com/schema/dic/doctrine/doctrine-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;doctrine:config&gt;</span>
        <span class="nt">&lt;doctrine:dbal</span> <span class="na">default-connection=</span><span class="s">&quot;default&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;doctrine:connection</span>
                <span class="na">name=</span><span class="s">&quot;default&quot;</span>
                <span class="na">dbname=</span><span class="s">&quot;database&quot;</span>
                <span class="na">host=</span><span class="s">&quot;localhost&quot;</span>
                <span class="na">port=</span><span class="s">&quot;1234&quot;</span>
                <span class="na">user=</span><span class="s">&quot;user&quot;</span>
                <span class="na">password=</span><span class="s">&quot;secret&quot;</span>
                <span class="na">driver=</span><span class="s">&quot;pdo_mysql&quot;</span>
                <span class="na">driver-class=</span><span class="s">&quot;MyNamespace\MyDriverImpl&quot;</span>
                <span class="na">path=</span><span class="s">&quot;%kernel.data_dir%/data.sqlite&quot;</span>
                <span class="na">memory=</span><span class="s">&quot;true&quot;</span>
                <span class="na">unix-socket=</span><span class="s">&quot;/tmp/mysql.sock&quot;</span>
                <span class="na">wrapper-class=</span><span class="s">&quot;MyDoctrineDbalConnectionWrapper&quot;</span>
                <span class="na">charset=</span><span class="s">&quot;UTF8&quot;</span>
                <span class="na">logging=</span><span class="s">&quot;%kernel.debug%&quot;</span>
                <span class="na">platform-service=</span><span class="s">&quot;MyOwnDatabasePlatformService&quot;</span>
            <span class="nt">&gt;</span>
                <span class="nt">&lt;doctrine:option</span> <span class="na">key=</span><span class="s">&quot;foo&quot;</span><span class="nt">&gt;</span>bar<span class="nt">&lt;/doctrine:option&gt;</span>
                <span class="nt">&lt;doctrine:mapping-type</span> <span class="na">name=</span><span class="s">&quot;enum&quot;</span><span class="nt">&gt;</span>string<span class="nt">&lt;/doctrine:mapping-type&gt;</span>
            <span class="nt">&lt;/doctrine:connection&gt;</span>
            <span class="nt">&lt;doctrine:connection</span> <span class="na">name=</span><span class="s">&quot;conn1&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;doctrine:type</span> <span class="na">name=</span><span class="s">&quot;custom&quot;</span><span class="nt">&gt;</span>Acme\HelloBundle\MyCustomType<span class="nt">&lt;/doctrine:type&gt;</span>
        <span class="nt">&lt;/doctrine:dbal&gt;</span>

        <span class="nt">&lt;doctrine:orm</span> <span class="na">default-entity-manager=</span><span class="s">&quot;default&quot;</span> <span class="na">auto-generate-proxy-classes=</span><span class="s">&quot;false&quot;</span> <span class="na">proxy-namespace=</span><span class="s">&quot;Proxies&quot;</span> <span class="na">proxy-dir=</span><span class="s">&quot;%kernel.cache_dir%/doctrine/orm/Proxies&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;doctrine:entity-manager</span> <span class="na">name=</span><span class="s">&quot;default&quot;</span> <span class="na">query-cache-driver=</span><span class="s">&quot;array&quot;</span> <span class="na">result-cache-driver=</span><span class="s">&quot;array&quot;</span> <span class="na">connection=</span><span class="s">&quot;conn1&quot;</span> <span class="na">class-metadata-factory-name=</span><span class="s">&quot;Doctrine\ORM\Mapping\ClassMetadataFactory&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;doctrine:metadata-cache-driver</span> <span class="na">type=</span><span class="s">&quot;memcache&quot;</span> <span class="na">host=</span><span class="s">&quot;localhost&quot;</span> <span class="na">port=</span><span class="s">&quot;11211&quot;</span> <span class="na">instance-class=</span><span class="s">&quot;Memcache&quot;</span> <span class="na">class=</span><span class="s">&quot;Doctrine\Common\Cache\MemcacheCache&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;doctrine:mapping</span> <span class="na">name=</span><span class="s">&quot;AcmeHelloBundle&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;doctrine:dql&gt;</span>
                    <span class="nt">&lt;doctrine:string-function</span> <span class="na">name=</span><span class="s">&quot;test_string&quot;</span><span class="nt">&gt;</span>Acme\HelloBundle\DQL\StringFunction<span class="nt">&lt;/doctrine:string-function&gt;</span>
                    <span class="nt">&lt;doctrine:numeric-function</span> <span class="na">name=</span><span class="s">&quot;test_numeric&quot;</span><span class="nt">&gt;</span>Acme\HelloBundle\DQL\NumericFunction<span class="nt">&lt;/doctrine:numeric-function&gt;</span>
                    <span class="nt">&lt;doctrine:datetime-function</span> <span class="na">name=</span><span class="s">&quot;test_datetime&quot;</span><span class="nt">&gt;</span>Acme\HelloBundle\DQL\DatetimeFunction<span class="nt">&lt;/doctrine:datetime-function&gt;</span>
                <span class="nt">&lt;/doctrine:dql&gt;</span>
            <span class="nt">&lt;/doctrine:entity-manager&gt;</span>
            <span class="nt">&lt;doctrine:entity-manager</span> <span class="na">name=</span><span class="s">&quot;em2&quot;</span> <span class="na">connection=</span><span class="s">&quot;conn2&quot;</span> <span class="na">metadata-cache-driver=</span><span class="s">&quot;apc&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;doctrine:mapping</span>
                    <span class="na">name=</span><span class="s">&quot;DoctrineExtensions&quot;</span>
                    <span class="na">type=</span><span class="s">&quot;xml&quot;</span>
                    <span class="na">dir=</span><span class="s">&quot;%kernel.root_dir%/../vendor/gedmo/doctrine-extensions/lib/DoctrineExtensions/Entity&quot;</span>
                    <span class="na">prefix=</span><span class="s">&quot;DoctrineExtensions\Entity&quot;</span>
                    <span class="na">alias=</span><span class="s">&quot;DExt&quot;</span>
                <span class="nt">/&gt;</span>
            <span class="nt">&lt;/doctrine:entity-manager&gt;</span>
        <span class="nt">&lt;/doctrine:orm&gt;</span>
    <span class="nt">&lt;/doctrine:config&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="visao-geral-da-configuracao">
<h2>Visão Geral da Configuração<a class="headerlink" href="#visao-geral-da-configuracao" title="Permalink to this headline">¶</a></h2>
<p>O exemplo de configuração a seguir mostra toda a configuração padrão que o ORM interpreta para:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">doctrine</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">orm</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">auto_mapping</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
        <span class="c1"># the standard distribution overrides this to be true in debug, false otherwise</span>
        <span class="l-Scalar-Plain">auto_generate_proxy_classes</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
        <span class="l-Scalar-Plain">proxy_namespace</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Proxies</span>
        <span class="l-Scalar-Plain">proxy_dir</span><span class="p-Indicator">:</span> <span class="s">&quot;%kernel.cache_dir%/doctrine/orm/Proxies&quot;</span>
        <span class="l-Scalar-Plain">default_entity_manager</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">default</span>
        <span class="l-Scalar-Plain">metadata_cache_driver</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">array</span>
        <span class="l-Scalar-Plain">query_cache_driver</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">array</span>
        <span class="l-Scalar-Plain">result_cache_driver</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">array</span>
</pre></div>
</div>
<p>Existem muitas outras opções de configuração que você pode usar para sobrescrever certas classes,
mas essas são somente para casos de uso avançados.</p>
<div class="section" id="fazendo-cache-dos-drivers">
<h3>Fazendo Cache dos Drivers<a class="headerlink" href="#fazendo-cache-dos-drivers" title="Permalink to this headline">¶</a></h3>
<p>Para realizar o cache dos drivers você pode especificar os valores &#8220;array&#8221;, &#8220;apc&#8221;, &#8220;memcache&#8221;, &#8220;memcached&#8221;,
&#8220;xcache&#8221; ou &#8220;service&#8221;.</p>
<p>O exemplo a seguir mostra uma visão geral das configurações de cache:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">doctrine</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">orm</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">auto_mapping</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
        <span class="l-Scalar-Plain">metadata_cache_driver</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">apc</span>
        <span class="l-Scalar-Plain">query_cache_driver</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">service</span>
            <span class="l-Scalar-Plain">id</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">my_doctrine_common_cache_service</span>
        <span class="l-Scalar-Plain">result_cache_driver</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">memcache</span>
            <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">localhost</span>
            <span class="l-Scalar-Plain">port</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">11211</span>
            <span class="l-Scalar-Plain">instance_class</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Memcache</span>
</pre></div>
</div>
</div>
<div class="section" id="mapeando-a-configuracao">
<h3>Mapeando a Configuração<a class="headerlink" href="#mapeando-a-configuracao" title="Permalink to this headline">¶</a></h3>
<p>Definir explicitamente todas as entidades mapeadas é a única configuração
necessário para o ORM e existem diversas outras opções de configurações que você
pode controlar. As configurações abaixo existem para o mapeamento.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">type</span></tt> Em <tt class="docutils literal"><span class="pre">annotation</span></tt>, <tt class="docutils literal"><span class="pre">xml</span></tt>, <tt class="docutils literal"><span class="pre">yml</span></tt>, <tt class="docutils literal"><span class="pre">php</span></tt> ou <tt class="docutils literal"><span class="pre">staticphp</span></tt>.
Especifica que tipo de metadado seu mapeamento usa.</li>
<li><tt class="docutils literal"><span class="pre">dir</span></tt> Caminho para o mapeamento ou para os arquivos de entidades (dependendo
do driver utilizado). Se esse caminho for relativo assume-se que ele seja relativo
à raiz do bundle. Isso somente irá funcionar se o nome do mapeamento for o mesmo
nome do próprio Bundle. Se você quiser usar essa opção para especificar um caminho
absoluto você deve prefixar esse caminho com os parâmetros de kernel que existe no
DIC (por exemplo %kernel.root_dir%).</li>
<li><tt class="docutils literal"><span class="pre">prefix</span></tt> Um prefixo comum que todas as entidades desse mapeamento compartilham
share. This prefix should never conflict with prefixes of other defined
mappings otherwise some of your entities cannot be found by Doctrine. This
option defaults to the bundle namespace + <tt class="docutils literal"><span class="pre">Entity</span></tt>, for example for an
application bundle called <tt class="docutils literal"><span class="pre">AcmeHelloBundle</span></tt> prefix would be
<tt class="docutils literal"><span class="pre">Acme\HelloBundle\Entity</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">alias</span></tt> O Doctrine oeferece uma forma para apelidar os nomes das entidades para algo
mais simples, ou seja, nomes mais curtos que serão usados nas instruções DQL ou no acesso
através dos repositórios. Ao usar um bundle o apelido padrão é igual ao nome do bundle.</li>
<li><tt class="docutils literal"><span class="pre">is_bundle</span></tt> Essa opção é uma valor derivado de <tt class="docutils literal"><span class="pre">dir</span></tt> e true caso o diretório seja
relativo, sendo verificado por um retorno false do método <tt class="docutils literal"><span class="pre">file_exists()</span></tt>. Ele será falso
se a verificação através do método retornar true. Nesse caso um caminho absoluto foi
especificado e os arquivos de metadados provavelmente estarão em algum diretório exterior
ao bundle.</li>
</ul>
</div>
</div>
<div class="section" id="configuracoes-do-doctrine-dbal">
<span id="reference-dbal-configuration"></span><span id="index-1"></span><h2>Configurações do Doctrine DBAL<a class="headerlink" href="#configuracoes-do-doctrine-dbal" title="Permalink to this headline">¶</a></h2>
<p>O DoctrineBundle suporta todos os parametros que os drivers padrões do doctrine aceitam,
convertidos para os padrões de XML ou YAML encorajados pelo Symfony. Veja a seção
<a class="reference external" href="http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/configuration.html">DBAL documentation</a> para maiores informações.
O bloco a seguir mostra todas as possiveis configurações:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">doctrine</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">dbal</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">dbname</span><span class="p-Indicator">:</span>               <span class="l-Scalar-Plain">database</span>
        <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span>                 <span class="l-Scalar-Plain">localhost</span>
        <span class="l-Scalar-Plain">port</span><span class="p-Indicator">:</span>                 <span class="l-Scalar-Plain">1234</span>
        <span class="l-Scalar-Plain">user</span><span class="p-Indicator">:</span>                 <span class="l-Scalar-Plain">user</span>
        <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span>             <span class="l-Scalar-Plain">secret</span>
        <span class="l-Scalar-Plain">driver</span><span class="p-Indicator">:</span>               <span class="l-Scalar-Plain">pdo_mysql</span>
        <span class="c1"># the DBAL driverClass option</span>
        <span class="l-Scalar-Plain">driver_class</span><span class="p-Indicator">:</span>         <span class="l-Scalar-Plain">MyNamespace\MyDriverImpl</span>
        <span class="c1"># the DBAL driverOptions option</span>
        <span class="l-Scalar-Plain">options</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">foo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">bar</span>
        <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>                 <span class="s">&quot;%kernel.data_dir%/data.sqlite&quot;</span>
        <span class="l-Scalar-Plain">memory</span><span class="p-Indicator">:</span>               <span class="l-Scalar-Plain">true</span>
        <span class="l-Scalar-Plain">unix_socket</span><span class="p-Indicator">:</span>          <span class="l-Scalar-Plain">/tmp/mysql.sock</span>
        <span class="c1"># the DBAL wrapperClass option</span>
        <span class="l-Scalar-Plain">wrapper_class</span><span class="p-Indicator">:</span>        <span class="l-Scalar-Plain">MyDoctrineDbalConnectionWrapper</span>
        <span class="l-Scalar-Plain">charset</span><span class="p-Indicator">:</span>              <span class="l-Scalar-Plain">UTF8</span>
        <span class="l-Scalar-Plain">logging</span><span class="p-Indicator">:</span>              <span class="s">&quot;%kernel.debug%&quot;</span>
        <span class="l-Scalar-Plain">platform_service</span><span class="p-Indicator">:</span>     <span class="l-Scalar-Plain">MyOwnDatabasePlatformService</span>
        <span class="l-Scalar-Plain">mapping_types</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">enum</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">string</span>
        <span class="l-Scalar-Plain">types</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">custom</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Acme\HelloBundle\MyCustomType</span>
        <span class="c1"># the DBAL keepSlave option</span>
        <span class="l-Scalar-Plain">keep_slave</span><span class="p-Indicator">:</span>           <span class="l-Scalar-Plain">false</span>
</pre></div>
</div>
</li>
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- xmlns:doctrine=&quot;http://symfony.com/schema/dic/doctrine&quot; --&gt;</span>
<span class="c">&lt;!-- xsi:schemaLocation=&quot;http://symfony.com/schema/dic/doctrine http://symfony.com/schema/dic/doctrine/doctrine-1.0.xsd&quot;&gt; --&gt;</span>

<span class="nt">&lt;doctrine:config&gt;</span>
    <span class="nt">&lt;doctrine:dbal</span>
        <span class="na">name=</span><span class="s">&quot;default&quot;</span>
        <span class="na">dbname=</span><span class="s">&quot;database&quot;</span>
        <span class="na">host=</span><span class="s">&quot;localhost&quot;</span>
        <span class="na">port=</span><span class="s">&quot;1234&quot;</span>
        <span class="na">user=</span><span class="s">&quot;user&quot;</span>
        <span class="na">password=</span><span class="s">&quot;secret&quot;</span>
        <span class="na">driver=</span><span class="s">&quot;pdo_mysql&quot;</span>
        <span class="na">driver-class=</span><span class="s">&quot;MyNamespace\MyDriverImpl&quot;</span>
        <span class="na">path=</span><span class="s">&quot;%kernel.data_dir%/data.sqlite&quot;</span>
        <span class="na">memory=</span><span class="s">&quot;true&quot;</span>
        <span class="na">unix-socket=</span><span class="s">&quot;/tmp/mysql.sock&quot;</span>
        <span class="na">wrapper-class=</span><span class="s">&quot;MyDoctrineDbalConnectionWrapper&quot;</span>
        <span class="na">charset=</span><span class="s">&quot;UTF8&quot;</span>
        <span class="na">logging=</span><span class="s">&quot;%kernel.debug%&quot;</span>
        <span class="na">platform-service=</span><span class="s">&quot;MyOwnDatabasePlatformService&quot;</span>
    <span class="nt">&gt;</span>
        <span class="nt">&lt;doctrine:option</span> <span class="na">key=</span><span class="s">&quot;foo&quot;</span><span class="nt">&gt;</span>bar<span class="nt">&lt;/doctrine:option&gt;</span>
        <span class="nt">&lt;doctrine:mapping-type</span> <span class="na">name=</span><span class="s">&quot;enum&quot;</span><span class="nt">&gt;</span>string<span class="nt">&lt;/doctrine:mapping-type&gt;</span>
        <span class="nt">&lt;doctrine:type</span> <span class="na">name=</span><span class="s">&quot;custom&quot;</span><span class="nt">&gt;</span>Acme\HelloBundle\MyCustomType<span class="nt">&lt;/doctrine:type&gt;</span>
    <span class="nt">&lt;/doctrine:dbal&gt;</span>
<span class="nt">&lt;/doctrine:config&gt;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Caso você queira configurar multiplas conecções com YAML, coloque-as dentro da chave
<tt class="docutils literal"><span class="pre">connections</span></tt> e forneça a elas um nome unico:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">doctrine</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">dbal</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">default_connection</span><span class="p-Indicator">:</span>       <span class="l-Scalar-Plain">default</span>
        <span class="l-Scalar-Plain">connections</span><span class="p-Indicator">:</span>
            <span class="l-Scalar-Plain">default</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">dbname</span><span class="p-Indicator">:</span>           <span class="l-Scalar-Plain">Symfony2</span>
                <span class="l-Scalar-Plain">user</span><span class="p-Indicator">:</span>             <span class="l-Scalar-Plain">root</span>
                <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span>         <span class="l-Scalar-Plain">null</span>
                <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span>             <span class="l-Scalar-Plain">localhost</span>
            <span class="l-Scalar-Plain">customer</span><span class="p-Indicator">:</span>
                <span class="l-Scalar-Plain">dbname</span><span class="p-Indicator">:</span>           <span class="l-Scalar-Plain">customer</span>
                <span class="l-Scalar-Plain">user</span><span class="p-Indicator">:</span>             <span class="l-Scalar-Plain">root</span>
                <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span>         <span class="l-Scalar-Plain">null</span>
                <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span>             <span class="l-Scalar-Plain">localhost</span>
</pre></div>
</div>
<p>O serviço <tt class="docutils literal"><span class="pre">database_connection</span></tt> sempre se refere a conexão <em>default</em>,
que a primeira definida ou a que esteja configurada através do parâmetro
<tt class="docutils literal"><span class="pre">default_connection</span></tt>.</p>
<p>Cada conexão também pode ser acessada pelo serviço <tt class="docutils literal"><span class="pre">doctrine.dbal.[name]_connection</span></tt>
onde <tt class="docutils literal"><span class="pre">[name]</span></tt> deve ser substituído pelo nome da conexão.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Configuração do DoctrineBundle (&#8220;doctrine&#8221;)</a><ul>
<li><a class="reference internal" href="#visao-geral-da-configuracao">Visão Geral da Configuração</a><ul>
<li><a class="reference internal" href="#fazendo-cache-dos-drivers">Fazendo Cache dos Drivers</a></li>
<li><a class="reference internal" href="#mapeando-a-configuracao">Mapeando a Configuração</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuracoes-do-doctrine-dbal">Configurações do Doctrine DBAL</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/reference/configuration/doctrine.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../../index.html">Symfony2.4Docs 2.4 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Symfony Team + Symfony pt_BR Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>